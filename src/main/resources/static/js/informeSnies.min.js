var token=$("meta[name='_csrf']").attr("content");function generarReporteSnies(){limpiarErrores();var e=$("#fechaInicioReporte").val(),r=$("#fechaFinReporte").val(),t=$("#descripcionReporte").val();if(""==e.trim()||""==r.trim()||""==t.trim())return validateFechaInicioReporte(),validateFechaFinReporte(),validateDescripcionReporte(),void toastr.error("Debes ingresar todos los campos requeridos","Error!");var n={};n.fechaInicio=e.trim(),n.fechaFin=r.trim(),n.descripcion=t.trim(),showSpinnerModal("btnGenerarReportesSnies","btnSpinnerSNIES"),$.ajax({headers:{"X-CSRF-TOKEN":token},type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(n),url:contextPath+"/reportes-SNIES/generar",cache:!1,success:function(e){toastr.success("Se ha generado el reporte","Excelente!"),window.setTimeout(function(){location.reload()},2e3)},error:function(e){hideSpinnerModal("btnGenerarReportesSnies","btnSpinnerSNIES"),toastr.error("No se pudo procesar la solicitud...","Error!"),document.getElementById("divMsgGeneralSnies").style.display="block",document.getElementById("msgGeneralSnies").innerText=e.responseJSON.message}})}function limpiarErrores(){document.getElementById("divMsgGeneralSnies").style.display="none",document.getElementById("msgGeneralSnies").innerText=""}$(document).ready(function(){$("#fechaInicioReporte").flatpickr({dateFormat:"d/m/Y",maxDate:new Date,onChange:function(e,r,t){$("#fechaFinReporte").flatpickr({dateFormat:"d/m/Y",minDate:e[0].toLocaleDateString(),maxDate:new Date})}})});