<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head th:replace="layouts/layout :: head">
	<meta charset="UTF-8"/>
</head>
<body>
  <!-- Application container -->
  <div class="container-fluid container-application">
    <!-- Content -->
    <div class="main-content position-relative">
      <!-- Main nav -->
      <div th:replace="layouts/logosHead :: logosHead"></div>
      <nav th:replace="layouts/navbar :: navbar"></nav>
      
      <!-- Page content -->
      <div class="page-content col-lg-9 center">
       <!-- Project cards -->
       <nav aria-label="breadcrumb">
		  <ol class="breadcrumb breadcrumb-links">
		    <li class="breadcrumb-item"><a class="red-ufps-breadcrumb" th:href="@{/}">Inicio</a></li>
		    <li class="breadcrumb-item"><a class="red-ufps-breadcrumb" th:href="@{/usuarios}">Usuarios</a></li>
		    <li class="breadcrumb-item active" aria-current="page">Roles</li>
		  </ol>
		</nav>
        <!-- Page title -->
       	<div class="contenido ml-3 mr-3 pb-2" >
        <div class="page-title">
          <div class="row justify-content-between align-items-center">
            <div class="col-md-6 d-flex align-items-center justify-content-between justify-content-md-start mb-3 mb-md-0">
              <!-- Page title + Go Back button -->
              <div class="d-inline-block">
                <h5 class="h4 d-inline-block font-weight-400 mb-0 text-dark" ><strong>Roles Usuarios</strong></h5>
              </div>
            </div>
            
          </div>
        </div>
        <hr/>
        
		<div class="row">
			<div class="col-lg-9">
				<div class="card">
					<!-- Card header -->
					
					<div class="card-body">
						<table>
								<tr th:if="${persona.tipoPersona.tipoPersona == 'Estudiante'}">
									<td>Beca</td>
									<td th:each="r: ${persona.roles}">
										<a class="btn btn-primary" th:if="${r.authority == 'ROLE_BECA'}" th:href="@{/persona/registro}">Revocar</a>
										<a class="btn btn-primary" th:if="${r.authority != 'ROLE_BECA'}" th:href="@{/persona/registro}">Revocar</a></td>
								</tr>
								<tr th:if="${persona.tipoPersona.tipoPersona == 'Docente' or persona.tipoPersona.tipoPersona == 'Administrativo' }">
									<td>Admin</td>
									<td><a class="btn btn-primary" sec:authorize="hasAnyRole('ROLE_ADMIN')" th:href="@{/persona/registro}">Revocar</a>
								<a class="btn btn-primary" sec:authorize="!hasAnyRole('ROLE_ADMIN')" th:href="@{/persona/registro}">Otorgar</a></td>
								</tr>
								<tr th:if="${persona.tipoPersona.tipoPersona == 'Externo'}">
									<td><button class="btn btn-primary" disabled>No es posible asignar permisos!</button>
									</td>
								</tr>
							</table>
					</div>
				</div>
			</div>
				</div>

				
		</div>
	  </div>
    
    </div>
    <div th:replace="layouts/footer :: footer"></div>
    
  </div>
  <!-- Scripts -->
  <!-- Core JS - includes jquery, bootstrap, popper, in-view and sticky-kit -->
  <div th:replace="layouts/layout :: scripts"></div>
</body>

</html>
