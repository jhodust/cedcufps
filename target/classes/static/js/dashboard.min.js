var token=$("meta[name='_csrf']").attr("content");$(document).ready(function(){function a(){var a=$("#fechaInicioReporteDashboard").val(),n=$("#fechaFinReporteDashboard").val(),r=!0;""==a&&(document.getElementById("errFechaInicioDashboard").innerText="Debes ingresar la fecha inicio del reporte",r=!1),""==n&&(document.getElementById("errFechaFinDashboard").innerText="Debes ingresar la fecha fin del reporte",r=!1),r&&(document.getElementById("divLoader").style.display="flex",document.getElementById("statistics").style.display="none",document.getElementById("textLoader").innerText="Cargando...",google.charts.load("current",{packages:["corechart","controls"],language:"es"}),google.charts.setOnLoadCallback(e),google.charts.load("current",{packages:["corechart","controls"],language:"es"}),google.charts.setOnLoadCallback(t),google.charts.load("current",{packages:["corechart"]}),google.charts.setOnLoadCallback(o),document.getElementById("divLoader").style.display="none",document.getElementById("statistics").style.display="block")}function e(){var a=$("#fechaInicioReporteDashboard").val(),e=$("#fechaFinReporteDashboard").val(),t=$("#selectProgramaStatistics").val();(n={}).fechaInicio=a,n.fechaFin=e,"0"!=t&&(n.idPrograma=t);var o=$.ajax({url:contextPath+"/reportes-SNIES/dashboard/totalGeneralEduContinua",data:n,dataType:"json",async:!1}).responseText,n=google.visualization.arrayToDataTable($.parseJSON(o)),r=new google.visualization.Dashboard(document.getElementById("dashboard_div")),i=new google.visualization.ControlWrapper({controlType:"CategoryFilter",containerId:"filter_div",options:{filterColumnLabel:"Educación Continua"}}),c=new google.visualization.ChartWrapper({chartType:"BarChart",containerId:"chart_div",options:{title:"Total Educaciones Continuas realizadas",colors:["#b0120a","#ffab91"],hAxis:{title:"Total",minValue:0},vAxis:{title:"Educación Continua"}}});r.bind(i,c),r.draw(n)}function t(){var a=$("#fechaInicioReporteDashboard").val(),e=$("#fechaFinReporteDashboard").val(),t=$("#selectProgramaStatistics").val(),o={};o.fechaInicio=a,o.fechaFin=e,"0"!=t&&(o.idPrograma=t);var n=$.ajax({url:contextPath+"/reportes-SNIES/dashboard/totalGeneralEduContinuaPersonas",data:o,dataType:"json",async:!1}).responseText,r=google.visualization.arrayToDataTable($.parseJSON(n)),i=new google.visualization.ControlWrapper({controlType:"CategoryFilter",containerId:"filter_div2",options:{filterColumnLabel:"Educación Continua"}}),c=new google.visualization.Dashboard(document.getElementById("dashboard_div2")),l=new google.visualization.ChartWrapper({chartType:"ComboChart",containerId:"chart_div_2",options:{title:"Participación en Educaciones Continuas",vAxis:{title:"Total"},hAxis:{title:"Educación Continua"},seriesType:"bars",series:{5:{type:"line"}},legend:{position:"top"}}});c.bind(i,l),c.draw(r)}function o(){var a=$("#fechaInicioReporteDashboard").val(),e=$("#fechaFinReporteDashboard").val(),t=$("#selectProgramaStatistics").val();(n={}).fechaInicio=a,n.fechaFin=e,"0"!=t&&(n.idPrograma=t);var o=$.ajax({url:contextPath+"/reportes-SNIES/dashboard/totalGeneralEduContinuaGenero",data:n,dataType:"json",async:!1}).responseText,n=google.visualization.arrayToDataTable($.parseJSON(o));new google.visualization.PieChart(document.getElementById("chart_div_general_gender")).draw(n,{title:"Participación en educación continua según género",legend:{position:"bottom"}})}$("#selectProgramaStatistics").on("change",function(e){e.preventDefault(),a()}),$("#fechaInicioReporteDashboard").flatpickr({dateFormat:"d/m/Y",onChange:function(e,t,o){document.getElementById("errFechaInicioDashboard").innerText="",$("#fechaFinReporteDashboard").flatpickr({dateFormat:"d/m/Y",minDate:e[0].toLocaleDateString(),onChange:function(e,t,o){document.getElementById("errFechaFinDashboard").innerText="",a()}})}})});