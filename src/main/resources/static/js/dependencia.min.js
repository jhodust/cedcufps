var idDependencia,token=$("meta[name='_csrf']").attr("content");function guardarDependencia(){var e=$("#dependencia").val(),n=validateInputTextRequerido("dependencia","errorDependencia"),a=validateLengthTxt("dependencia","errorDependencia",60);n&&a?(showSpinnerModal("btnSaveAreas","btnSpinnerAreas"),$.ajax({headers:{"X-CSRF-TOKEN":token},type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify({id:idDependencia,dependencia:e}),url:contextPath+"/dependencias/save",cache:!1,success:function(e){toastr.success("Se ha guardado la informaci\xf3n","Excelente!"),idFacultad=0,paginadorLoadAjax(contextPath+"/dependencias/reload"),$("#modalRegistroDependencia").modal("hide"),hideSpinnerModal("btnSaveAreas","btnSpinnerAreas")},error:function(e){hideSpinnerModal("btnSaveAreas","btnSpinnerAreas"),document.getElementById("btnSaveAreas").disabled=!1,e.responseJSON.length>0?(toastr.error("No se pudo procesar la solicitud...","Error!"),e.responseJSON.forEach(function(e){if("facultad"==e.field){var n=document.getElementById("dependencia");document.getElementById("errorDependencia").innerText=e.defaultMessage,n.classList.add("is-invalid")}})):toastr.error(e.responseJSON.message,"Error!")}})):toastr.error("Diligencie el formulario correctamente","Error!")}function editarDependencia(e){$.ajax({headers:{"X-CSRF-TOKEN":token},type:"GET",contentType:"application/json; charset=utf-8",url:contextPath+"/dependencias/search/"+e.dataset.id,cache:!1,success:function(e){$("#modalRegistroDependencia").modal(),$("#dependencia").val(e.dependencia),idDependencia=e.id},error:function(e){toastr.error(e.responseJSON.message,"Error!")}})}function limpiarErrores(){var e=document.getElementById("dependencia");document.getElementById("errorDependencia").innerText="",e.classList.remove("is-invalid")}$(document).ready(function(){$("#modalRegistroDependencia").on("show.bs.modal",function(e){$("#facultad").val(""),idFacultad=0,limpiarErrores()})});