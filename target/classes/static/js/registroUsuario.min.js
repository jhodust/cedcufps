function showLoader(){document.getElementById("divLoader").style.display="flex",document.getElementById("formUsuario").style.display="none"}function hideLoader(){document.getElementById("divLoader").style.display="none",document.getElementById("formUsuario").style.display="inline"}function ajaxSaveUsuario(e,o){var a=!1,r=validateSelect("selectTipoDoc","errorTipoDoc"),t=validateInputTextRequerido("numDoc","errorNumeroDocumento"),i=validateInputTextRequerido("fechaExp","errorFechaExp"),c=validateInputTextRequerido("primNom","errorPrimerNombre"),n=validateInputTextRequerido("primApe","errorPrimerApellido"),d=validateInputTextRequerido("fechaNac","errorFechaNacimiento"),l=validateCheckboxGenero("errorGenero"),m=validateCheckboxEstadoCivil("errorEstadoCivil"),u=validateInputTextRequerido("email","errorEmail"),s=validateEmail("email","errorEmail"),v=validateInputNumberRequerido("telefono","errorTelefono"),p=validateCheckboxPerfiles("cbEst","cbDoc","cbAdminvo","cbGraduado","cbExt","errorPerfiles"),f=validateSelect("selectPaisNacimiento","errorPaisNacimiento"),b=validateLengthTxt("primNom","errorPrimerNombre",20),g=validateLengthTxt("segNom","errorSegundoNombre",20),E=validateLengthTxt("primApe","errorPrimerApellido",20),h=validateLengthTxt("segApe","errorSegundoApellido",20),D=validateLengthTxt("direccion","errorDireccion",100);if(r&&t&&i&&c&&n&&d&&l&&m&&u&&s&&v&&p&&f&&b&&g&&E&&h&&D||(a=!0),"170"==$("#selectPaisNacimiento").val()){var x=validateSelect("selectDepartamentoNacimiento","errorDeptoNacimiento"),k=validateSelect("selectMunicipioNacimiento","errorMpioNacimiento");x&&k||(a=!0)}if(document.getElementById("cbEst").checked){var N=validateSelect("programaAsociado","errorProgramaEstudiante"),A=validateInputNumberRequerido("codigo","errorCodigoEstudiante");N&&A||(a=!0)}if(document.getElementById("cbDoc").checked){var P=validateSelect("selectDeptoAdscrito","errorDeptoDocente"),T=validateInputNumberRequerido("codDocente","errorCodigoDocente");P&&T||(a=!0)}if(document.getElementById("cbAdminvo").checked){var I=validateInputTextRequerido("dependencia","errorDependenciaAdminvo"),y=validateInputTextRequerido("cargo","errorCargoAdminvo"),G=validateLengthTxt("dependencia","errorDependenciaAdminvo",50),S=validateLengthTxt("cargo","errorCargoAdminvo",50);I&&y&&G&&S||(a=!0)}if(document.getElementById("cbGraduado").checked){I=validateSelect("selectProgramaGraduado","errorProgramaGraduado"),y=validateAnio("anioGraduado","errorAnioGraduado");I&&y||(a=!0)}if(document.getElementById("cbExt").checked){var B=validateInputTextRequerido("profesion","errorProfesionExterno"),C=validateInputTextRequerido("empresa","errorEmpresa"),L=validateLengthTxt("profesion","errorProfesionExterno",50),R=validateLengthTxt("empresa","errorEmpresa",50);B&&C&&L&&R||(a=!0)}if(a)return hideLoader(),void toastr.error("Debes diligenciar el formulario correctamente","Error!");var q={};q.id=e,q.idTipoDocumento=$("#selectTipoDoc").val(),q.numeroDocumento=$("#numDoc").val();var w=$("#fechaExp").val().split("/");q.fechaExpedicionDocumento=new Date(w[2],w[1]-1,w[0]),q.primerNombre=$("#primNom").val(),q.segundoNombre=$("#segNom").val(),q.primerApellido=$("#primApe").val(),q.segundoApellido=$("#segApe").val(),q.idGenero=$('input[name="genero"]:checked').val(),q.idEstadoCivil=$('input[name="estadoCivil"]:checked').val();var M=$("#fechaNac").val().split("/");q.fechaNacimiento=new Date(M[2],M[1]-1,M[0]),q.idPaisNacimiento=$("#selectPaisNacimiento").val(),q.idDepartamentoNacimiento=$("#selectDepartamentoNacimiento").val(),q.idMunicipioNacimiento=$("#selectMunicipioNacimiento").val(),q.email=$("#email").val(),q.direccion=$("#direccion").val(),q.telefono=$("#telefono").val(),q.codigoProgramaEstudiante=$("#codigo").val(),q.idProgramaEstudiante=$("#programaAsociado").val(),q.profesion=$("#profesion").val(),q.estudiante=document.getElementById("cbEst").checked,q.docente=document.getElementById("cbDoc").checked,q.administrativo=document.getElementById("cbAdminvo").checked,q.graduado=document.getElementById("cbGraduado").checked,q.externo=document.getElementById("cbExt").checked,q.idProgramaGraduado=$("#selectProgramaGraduado").val(),q.anioGraduado=$("#anioGraduado").val(),q.idDeptoAdscrito=$("#selectDeptoAdscrito").val(),q.codigoDocente=$("#codDocente").val(),q.dependencia=$("#dependencia").val(),q.cargo=$("#cargo").val(),q.empresa=$("#empresa").val(),showSpinnerModal("btnGuardarUsuario","btnSpinnerUsuarios"),$.ajax({headers:{"X-CSRF-TOKEN":token},type:"POST",contentType:"application/json; charset=utf-8",data:JSON.stringify(q),url:contextPath+"/registrarse",cache:!1,success:function(e){0==caso?toastr.success("Se ha creado su usuario, inicie Sesi√≥n para acceder","Excelente!"):toastr.success("Se ha guardado el usuario exitosamente","Excelente!"),window.setTimeout(function(){window.location.href=o},1e3)},error:function(e){hideSpinnerModal("btnGuardarUsuario","btnSpinnerUsuarios"),toastr.error(e.responseJSON.message,"Error!")}})}function estudiante(){mostrar("divAdicional","block"),1==document.getElementById("cbEst").checked?(mostrar("formEstudiante","block"),ocultar("formExterno"),$("#cbExt").prop("checked",!1)):ocultar("formEstudiante")}function docente(){mostrar("divAdicional","block"),1==document.getElementById("cbDoc").checked?(mostrar("formDocente","block"),ocultar("formExterno"),$("#cbExt").prop("checked",!1)):ocultar("formDocente")}function adminvo(){mostrar("divAdicional","block"),1==document.getElementById("cbAdminvo").checked?(mostrar("formAdministrativo","block"),ocultar("formExterno"),$("#cbExt").prop("checked",!1)):ocultar("formAdministrativo")}function graduado(){mostrar("divAdicional","block"),1==document.getElementById("cbGraduado").checked?(mostrar("formGraduado","block"),ocultar("formExterno"),$("#cbExt").prop("checked",!1)):ocultar("formGraduado")}function externo(){mostrar("divAdicional","block"),1==document.getElementById("cbExt").checked?($("#cbEst").prop("checked",!1),$("#cbDoc").prop("checked",!1),$("#cbAdminvo").prop("checked",!1),$("#cbGraduado").prop("checked",!1),mostrar("formExterno","block"),ocultar("formEstudiante","block"),ocultar("formDocente","block"),ocultar("formAdministrativo","block"),ocultar("formGraduado","block")):ocultar("divAdicional")}function loadUsuario(){null!=id&&($("#selectTipoDoc").val(),$("#numDoc").val(),$("#fechaExp").val(),$("#primNom").val(),$("#segNom").val(),$("#primApe").val(),$("#segApe").val(),$("#fechaNac").val(),$("#selectPaisNacimiento").val(),$("#selectDepartamentoNacimiento").val(),$("#selectMunicipioNacimiento").val(),$("#email").val(),$("#telefono").val(),$("#direccion").val(),$("#selectTipoDoc").val(),$("#selectTipoDoc").val())}$(document).ready(function(){var e=null,o=0;0==caso?(o=null==persona.id||0==persona.id?0:persona.id,e=contextPath+"/"):1==caso?(o=null==persona.id?0:persona.id,e=contextPath+"/usuarios"):(o=persona.id,e=contextPath+"/perfil"),$("#selectTipoDoc").on("change",function(e){e.preventDefault(),validateSelect("selectTipoDoc","errorTipoDoc")}),$("#selectPaisNacimiento").on("change",function(e){e.preventDefault(),validateSelect("selectPaisNacimiento","errorPaisNacimiento")}),$("#selectDepartamentoNacimiento").on("change",function(e){e.preventDefault(),validateSelect("selectDepartamentoNacimiento","errorDeptoNacimiento")}),$("#selectMunicipioNacimiento").on("change",function(e){e.preventDefault(),validateSelect("selectMunicipioNacimiento","errorMpioNacimiento")}),$("#programaAsociado").on("change",function(e){e.preventDefault(),validateSelect("programaAsociado","errorProgramaEstudiante")}),$("#selectDeptoAdscrito").on("change",function(e){e.preventDefault(),validateSelect("selectDeptoAdscrito","errorDeptoDocente")}),$("#selectProgramaGraduado").on("change",function(e){e.preventDefault(),validateSelect("selectProgramaGraduado","errorProgramaGraduado")}),$('input[name="genero"]').click(function(){cleanMsj("errorGenero")}),$('input[name="estadoCivil"]').click(function(){cleanMsj("errorEstadoCivil")}),$("#cbEst").click(function(){validateCheckboxPerfiles("cbEst","cbDoc","cbAdminvo","cbGraduado","cbExt","errorPerfiles")}),$("#cbDoc").click(function(){validateCheckboxPerfiles("cbEst","cbDoc","cbAdminvo","cbGraduado","cbExt","errorPerfiles")}),$("#cbAdminvo").click(function(){validateCheckboxPerfiles("cbEst","cbDoc","cbAdminvo","cbGraduado","cbExt","errorPerfiles")}),$("#cbGraduado").click(function(){validateCheckboxPerfiles("cbEst","cbDoc","cbAdminvo","cbGraduado","cbExt","errorPerfiles")}),$("#cbExt").click(function(){validateCheckboxPerfiles("cbEst","cbDoc","cbAdminvo","cbGraduado","cbExt","errorPerfiles")}),$(".cancel").on("click",function(o){o.preventDefault(),window.setTimeout(function(){window.location.href=e},1e3)}),$(".save").on("click",function(a){a.preventDefault(),ajaxSaveUsuario(o,e)})});